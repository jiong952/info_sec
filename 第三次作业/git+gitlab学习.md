# Part 1 网络安全事件

**西北工业大学遭美国网络攻击，罪魁祸首为名为「饮茶」的嗅探窃密类网络武器**

《环球时报》记者13日从相关部门获悉，在西北工业大学遭受美国国家安全局（NSA）网络攻击事件中，**名为“饮茶”的嗅探窃密类网络武器是导致大量敏感数据遭窃的最直接“罪魁祸首”之一。**对此，网络安全专家建议，在信息化建设过程中，建议选用国产化产品和“零信任”安全解决方案。

9月5日，中国相关部门对外界宣布，此前西北工业大学声明遭受境外网络攻击，攻击方是美国国家安全局（NSA）特定入侵行动办公室（TAO）。此后国家计算机病毒应急处理中心与北京奇安盘古实验室对此次入侵事件进一步深入分析，在最新的调查报告中，美国实施攻击的技术细节被公开：即在41种网络武器中名为“饮茶”的嗅探窃密类网络武器就是导致大量敏感数据遭窃的最直接“罪魁祸首”之一。

相关网络安全专家介绍，TAO使用“饮茶”作为嗅探窃密工具，将其植入西北工业大学内部网络服务器，窃取了SSH等远程管理和远程文件传输服务的登录密码，从而获得内网中其他服务器的访问权限，实现内网横向移动，并向其他高价值服务器投送其他嗅探窃密类、持久化控制类和隐蔽消痕类网络武器，造成大规模、持续性敏感数据失窃。

经技术分析与研判，“饮茶”不仅能够窃取所在服务器上的多种远程管理和远程文件传输服务的账号密码，并且**具有很强的隐蔽性和环境适应性。**上文中的网络安全专家称，“饮茶”被植入目标服务器和网络设备后，会将自身伪装成正常的后台服务进程，并且采用模块化方式，分阶段投送恶意负载，具有很强的隐蔽性，发现难度很大。“饮茶”可以在服务器上隐蔽运行，实时监视用户在操作系统控制台终端程序上的输入，并从中截取各类用户名密码，如同站在用户背后的“偷窥者”。网络安全专家介绍：“一旦这些用户名密码被TAO获取，就可以被用于进行下一阶段的攻击，即使用这些用户名密码访问其他服务器和网络设备，进而窃取服务器上的文件或投送其他网络武器。”

技术分析表明，**“饮茶”可以与NSA其他网络武器有效进行集成和联动，实现“无缝对接”。**今年2月份，北京奇安盘古实验室公开披露了隶属于美国国家安全局（NSA）黑客组织——“方程式”专属的顶级武器“电幕行动”（Bvp47）的技术分析，其被用于奇安盘古命名为“电幕行动”的攻击活动中。在TAO此次对西北工业大学实施网络攻击的事件中，“饮茶”嗅探窃密工具与Bvp47木马程序其他组件配合实施联合攻击。根据介绍， Bvp47木马具有极高的技术复杂度、架构灵活性以及超高强度的分析取证对抗特性，与“饮茶”组件配合用于窥视并控制受害组织信息网络，秘密窃取重要数据。其中，“饮茶”嗅探木马秘密潜伏在受害机构的信息系统中，专门负责侦听、记录、回送“战果”——受害者使用的账号和密码，不论其是在内网还是外网中。

报告还指出，随着调查的逐步深入，技术团队**还在西北工业大学之外的其他机构网络中发现了“饮茶”的攻击痕迹，很可能是TAO利用“饮茶”对中国发动大规模的网络攻击活动。**

值得注意的是，在美国对他国实施的多次网络攻击活动中，反复出现美国IT产业巨头的身影。例如在“棱镜”计划中，美国情治部门掌握高级管理员权限，能够随时进入微软、雅虎、谷歌、苹果等公司的服务器中，长期秘密进行数据挖掘。在“影子经纪人”公布的“方程式”组织所使用的黑客工具中，也多次出现了微软、思科甚至中国部分互联网服务商旗下产品的“零日漏洞”（0Day）或者后门。“美国正在利用其在网络信息系统软硬件领域的技术主导地位，在美国IT产业巨头的全面配合下，利用多种尖端网络武器，在全球范围发动无差别的网络攻击，持续窃取世界各地互联网设备的账号密码，以备后续随时‘合法’登录受害者信息系统，实施更大规模的窃密甚至破坏活动，其网络霸权行径显露无疑。” 因此，网络安全专家建议用户对关键服务器尤其是网络运维服务器进行加固，定期更改服务器和网络设备的管理员口令，并加强对内网网络流量的审计，及时发现异常的远程访问请求。同时，在信息化建设过程中，建议选用国产化产品和“零信任”安全解决方案。（“零信任”是新一代的网络安全防护理念，默认不信任企业网络内外的任何人、设备和系统。）

这位专家进一步指出，无论是数据窃取还是系统毁灭瘫痪，网络攻击行为都会给网络空间甚至现实世界造成巨大破坏，尤其是针对重要关键信息基础设施的攻击行为，“网络空间很大程度是物理空间的映射，网络活动轻易跨越国境的特性使之成为持续性斗争的先导。没有网络安全就没有国家安全，**只有要发展我们在科技领域的非对称竞争优势，才能建立起属于中国的、独立自主的网络防护和对抗能力。”**

来源：[西北工业大学遭美国网络攻击，罪魁祸首为名为「饮茶」的嗅探窃密类网络武器，具体情况如何？ - 知乎 (zhihu.com)](https://www.zhihu.com/question/553306517)

# Part 2 git gitlab学习

## 目录结构

不要人为使用文件名方式进行版本管理，利用git在同一个文件上进行修改，注意提交的细粒度

## 将本地项目上传到gitlab

1. 在gitlab上创建好项目，复制url链接
2. 本地使用git gui在菜单栏找到Add Remote
   - location填入复制的url
   - Further Action选择Do Nothing
3. 将本地内容push即可

使用命令行：

```
git remote add origin git@github.com:jiong952/test.git 
git push -u origin master //表示把本地master分支与远程origin分支关联起来
```

## 查看Git历史

菜单栏：`Repository--->Visualize All Branch History` 

## 查看两个版本的差异

### 工作目录与上次提交的差异

启动 GIT GUI 默认形况显示的就是当前工作目录和上次提交之间的版本差异。

![image-20220917181510834](imgs\image-20220917181510834-16634097159171.png)

摘自教程

> Git 差异显示的是补丁块，多个补丁块会被分成多个 `@@  @@ 显示块`，对于每一个补丁显示块的内容格式如下：
>
> - @@ 行给出两个版本文件中的行号，它由两个数字构成。第一个数字是开始行号，第二个数字是该补丁块的行数。如上例`@@ -51,10 +51,12 @@`表示补丁块显示的是原来文件从第`51行开始，共10行内容`,新文件显示的是从`51行，共12行内容`
> - 每行数据的第一个字符是`+`，`-`或` (空格)`，含义如下：
>   - \- 号表示，要想从旧文件到得新文件必须删除。
>   - \+ 号表示，要想从旧文件到得新文件必须增加。
>   - （空号）表示新，旧文件一样
>
> 从上面截图可以看到，新文件（工作目录正在处理的）是在旧文件（上个版本提交的）基础上增加了两行内容。这一点也可以直接查看文件进行验证。

### 历史图查看相邻

![image-20220917182245234](imgs\image-20220917182245234-16634101670443.png)

### 历史图查看任意两个

![image-20220917182257335](imgs\image-20220917182257335.png)

## 增加.gitignore文件

可以用于git提交时忽略部分文件

格式

```
# 忽略 *.bak文件
*.bak

# 忽略 c/c++ 编译后的文件
*.obj

# 忽略 Java编译后的文件
*.class

# 忽略 word创建的临时文件
~*.doc
~*.docx

# 忽略debug目录下的所有文件
debug/

# 取消对 a.zip 的忽略
!a.zip
```

- #注释
- *.obj 以.obj为后缀名的全部文件
- debug/ debug目录下的全部文件
- !a.zip 取消对a.zip的忽略

## 远程仓库更新

- 下拉

Remote -> Fetch from

![image-20220917192458397](imgs\image-20220917192458397.png)

- 合并

Merge—>Local Merge

![image-20220917192540509](imgs\image-20220917192540509.png)

- 上推

push